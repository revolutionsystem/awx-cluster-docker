---
  #- hosts: "{{ variable_host | default('awx_instance_group_*') }}"
  - hosts: all
  
    vars:
      ### AWX Default Settings
      awx_unique_secret_key: awxsecret
      awx_admin_default_pass: password

      ### Postgre DB details
      pg_db_host: "10.10.32.10"
      pg_db_pass: "awx"
      pg_db_port: "5432"
      pg_db_user: "sisawx"
      pg_db_name: "awx"

      ### RabbitMQ default settings
      rabbitmq_cookie: "cookiemonster"
      rabbitmq_username: "awx"
      rabbitmq_password: "password"

    roles:
      - { role: rabbitmq_cluster, when: ansible_os_family == "CentOS" and ansible_distribution_major_version == "7" }
      #- { role: awx_ha, when: ansible_os_family == "CentOS" and ansible_distribution_major_version == "7" }
